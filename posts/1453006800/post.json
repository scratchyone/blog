{"title":"On-The-Fly Code Injection (Inserting Header and Footer)","body":"<p>Recently, I added a feature to my website that allowed me to inject code into my site. Currently all pages in my site have this code injected into them. It adds my favicon, LaTeX, Markdown, and an emoji tag I created. I had a lot of trouble finding this, so I will show you my code. Maybe someone will want it.<br />\nHtaccess:</p>\n<pre><code>RewriteEngine On\nRewriteRule ^head_foot.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteCond %{REQUEST_URI} !^/joke/ #Exclude scripts that generate images. This will corrupt them.\nRewriteRule \\.(php|htm|html)$ /head_foot.php [E=FILE:%{SCRIPT_FILENAME},L]\n</code></pre>\n<p>head_foot.php:</p>\n<pre><code>&lt;?php\ninclude(\"header.html\"); #Add Header\n#Now get webpage:\ninclude getenv('REDIRECT_FILE');\n?&gt;\n</code></pre>","id":1453006800}